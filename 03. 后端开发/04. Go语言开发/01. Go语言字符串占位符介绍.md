# Goè¯­è¨€å­—ç¬¦ä¸²å ä½ç¬¦ä»‹ç»

Golangçš„å­—ç¬¦ä¸²å ä½ç¬¦åœ¨`fmt`åŒ…çš„å„ç§æ‰“å°å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¦‚ `fmt.Printf`ã€`fmt.Sprintf`ã€‚åœ¨cã€javaçš„åŸºç¡€ä¸Šæœ‰æ‰€æ”¹åŠ¨ï¼Œæ•…è¿™é‡Œä½œæ­¤ä»‹ç»ã€‚

## 1 å˜é‡å€¼ä¸ç±»å‹

* `%v`ï¼šæ‰“å°å˜é‡çš„å€¼ï¼Œä¼šæ ¹æ®å˜é‡çš„ç±»å‹é€‰æ‹©åˆé€‚çš„é»˜è®¤æ ¼å¼è¿›è¡Œæ‰“å°
	* å¯¹äºç»“æ„ä½“ï¼Œæ‰“å°ç»“æ„ä½“çš„å­—æ®µã€‚
	* å¯¹äºæŒ‡é’ˆç±»å‹ï¼Œæ‰“å°æŒ‡é’ˆæŒ‡å‘çš„å€¼ã€‚
* `%+v`ï¼šç±»ä¼¼ %vï¼Œä½†ä¼šæ‰“å°ç»“æ„ä½“çš„å­—æ®µå
* `%##v`ï¼šæ‰“å°å€¼çš„Goè¯­è¨€è¯­æ³•è¡¨ç¤º
* `%T`ï¼šæ‰“å°å˜é‡çš„ç±»å‹

```go
x := 42
y := "hello"
z := 3.14
fmt.Printf("x: %v, type: %T\n", x, x)
fmt.Printf("y: %v, type: %T\n", y, y)
fmt.Printf("z: %v, type: %T\n", z, z)
```
```
x: 42, type: int
y: hello, type: string
z: 3.14, type: float64
```

```go
type Person struct {
    Name string
    Age  int
}

person := Person{
    Name: "Teresa",
    Age:  17,
}

fmt.Printf("å€¼çš„é»˜è®¤æ ¼å¼è¡¨ç¤º: %v\n", person)
fmt.Printf("å€¼å¸¦ç»“æ„ä½“çš„å­—æ®µåè¡¨ç¤º: %+v\n", person)
fmt.Printf("å€¼çš„Goè¯­è¨€è¯­æ³•è¡¨ç¤º: %##v\n", person)
```
```
å€¼çš„é»˜è®¤æ ¼å¼è¡¨ç¤º: {Teresa 17}
å€¼å¸¦ç»“æ„ä½“çš„å­—æ®µåè¡¨ç¤º: {Name:Teresa Age:17}
å€¼çš„Goè¯­è¨€è¯­æ³•è¡¨ç¤º: main.Person{Name:"Teresa", Age:17}
```


## 2 æ•´æ•°

* `%d`ï¼šåè¿›åˆ¶è¡¨ç¤º
* `%b`ï¼šäºŒè¿›åˆ¶è¡¨ç¤º
* `%o`ï¼šå…«è¿›åˆ¶è¡¨ç¤º
* `%x` / `%X`ï¼šåå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå­—æ¯å°å†™/å¤§å†™ï¼›ä¸‹åŒï¼‰

```go
n := 42
fmt.Printf("åè¿›åˆ¶: %d\n", n)
fmt.Printf("äºŒè¿›åˆ¶: %b\n", n)
fmt.Printf("å…«è¿›åˆ¶: %o\n", n)
fmt.Printf("åå…­è¿›åˆ¶ï¼ˆå°å†™ï¼‰: %x\n", n)
fmt.Printf("åå…­è¿›åˆ¶ï¼ˆå¤§å†™ï¼‰: %X\n", n)
```
```
åè¿›åˆ¶: 42
äºŒè¿›åˆ¶: 101010
å…«è¿›åˆ¶: 52
åå…­è¿›åˆ¶ï¼ˆå°å†™ï¼‰: 2a
åå…­è¿›åˆ¶ï¼ˆå¤§å†™ï¼‰: 2A
```



## 3 æµ®ç‚¹æ•°

* `%f`ï¼šæœ‰å°æ•°ç‚¹çš„åè¿›åˆ¶è¡¨ç¤º
* `%e` / `%E`ï¼šç§‘å­¦è®¡æ•°æ³•
* `%g` / `%G`ï¼šæ ¹æ®æƒ…å†µé€‰æ‹©`%f`æˆ–`%e`

```go
f := 3.1415926
fmt.Printf("æµ®ç‚¹æ•°: %f\n", f)
fmt.Printf("ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ï¼‰: %e\n", f)
fmt.Printf("ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ï¼‰: %E\n", f)
```
```
æµ®ç‚¹æ•°: 3.141593
ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ï¼‰: 3.141593e+00
ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ï¼‰: 3.141593E+00
```



## 4 å­—ç¬¦ã€å­—ç¬¦ä¸²å’Œå­—èŠ‚åˆ‡ç‰‡

* `%%`: ç™¾åˆ†å·å­—ç¬¦ï¼ˆ`%`ï¼‰
* `%c`ï¼šå­—ç¬¦
* `%U`ï¼šå­—ç¬¦çš„Unicodeç ç‚¹
* `%s`ï¼šç›´æ¥è¾“å‡ºå­—ç¬¦ä¸²æˆ–å­—èŠ‚åˆ‡ç‰‡
* `%q`ï¼šä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²
* `%x` / `%X`ï¼šæ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—ç¬¦çš„åå…­è¿›åˆ¶è¡¨ç¤º

```go
fmt.Printf("ç™¾åˆ†å·: 37%%\n")

var char1 rune = 'A'
var char2 rune = 'ä¸­'
var char3 rune = 'ğŸ˜Š'

fmt.Printf("char1: %c Unicode: %U\n", char1, char1)
fmt.Printf("char2: %c Unicode: %U\n", char2, char2)
fmt.Printf("char3: %c Unicode: %U\n", char3, char3)
```
```
ç™¾åˆ†å·: 37%
char1: A Unicode: U+0041
char2: ä¸­ Unicode: U+4E2D
char3: ğŸ˜Š Unicode: U+1F60A
```


```go
s := "hello"
fmt.Printf("å­—ç¬¦ä¸²: %s\n", s)
fmt.Printf("å¸¦å¼•å·çš„å­—ç¬¦ä¸²: %q\n", s)
fmt.Printf("æ¯ä¸ªå­—èŠ‚ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå°å†™ï¼‰: %x\n", s)
fmt.Printf("æ¯ä¸ªå­—èŠ‚ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå¤§å†™ï¼‰: %X\n", s)
```

```
å­—ç¬¦ä¸²: hello
å¸¦å¼•å·çš„å­—ç¬¦ä¸²: "hello"
æ¯ä¸ªå­—èŠ‚ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå°å†™ï¼‰: 68656c6c6f
æ¯ä¸ªå­—èŠ‚ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå¤§å†™ï¼‰: 68656C6C6F
```

## 5 æŒ‡é’ˆ

* `%p`ï¼šæŒ‡é’ˆåœ°å€

```go
t := 100
p := &t
fmt.Printf("æŒ‡é’ˆåœ°å€: %p\n", p)
```
```
æŒ‡é’ˆåœ°å€: 0xc00001a128
```

## 6 å¸ƒå°”å€¼

* `%t`ï¼šå¸ƒå°”å€¼ï¼ˆ`true`æˆ–`false`ï¼‰

```go
b := true
fmt.Printf("å¸ƒå°”å€¼ï¼š%t\n", b)
```
```
å¸ƒå°”å€¼ï¼štrue
```









